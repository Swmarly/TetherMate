<Window x:Class="UsbWiredVirtualDesktop.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        mc:Ignorable="d"
        Title="USB Wired Virtual Desktop" Height="720" Width="1080">
  <Grid Margin="20">
    <Grid.RowDefinitions>
      <RowDefinition Height="Auto" />
      <RowDefinition Height="Auto" />
      <RowDefinition Height="*" />
      <RowDefinition Height="220" />
    </Grid.RowDefinitions>

    <StackPanel Orientation="Horizontal" Grid.Row="0" Margin="0,0,0,16">
      <TextBlock Text="USB Wired Virtual Desktop" FontSize="24" FontWeight="SemiBold" />
      <TextBlock Text="  â€¢  Automatic gnirehtet manager" FontSize="14" Foreground="Gray" Margin="12,10,0,0" />
    </StackPanel>

    <Grid Grid.Row="1" Margin="0,0,0,16">
      <Grid.ColumnDefinitions>
        <ColumnDefinition Width="2*" />
        <ColumnDefinition Width="*" />
        <ColumnDefinition Width="*" />
        <ColumnDefinition Width="*" />
      </Grid.ColumnDefinitions>

      <StackPanel Grid.Column="0">
        <TextBlock Text="Target device" FontWeight="SemiBold" />
        <ComboBox ItemsSource="{Binding Devices}"
                  SelectedItem="{Binding SelectedDevice}"
                  DisplayMemberPath="DisplayName"
                  Margin="0,8,0,0"
                  Height="32" />
      </StackPanel>

      <Border Grid.Column="1" Margin="16,0,0,0" Padding="12" BorderBrush="#D0D5DD" BorderThickness="1" CornerRadius="8">
        <StackPanel>
          <TextBlock Text="ADB" FontWeight="SemiBold" />
          <TextBlock Text="{Binding AdbStatus}" Margin="0,8,0,0" />
        </StackPanel>
      </Border>

      <Border Grid.Column="2" Margin="16,0,0,0" Padding="12" BorderBrush="#D0D5DD" BorderThickness="1" CornerRadius="8">
        <StackPanel>
          <TextBlock Text="Device" FontWeight="SemiBold" />
          <TextBlock Text="{Binding DeviceStatus}" Margin="0,8,0,0" />
        </StackPanel>
      </Border>

      <Border Grid.Column="3" Margin="16,0,0,0" Padding="12" BorderBrush="#D0D5DD" BorderThickness="1" CornerRadius="8">
        <StackPanel>
          <TextBlock Text="gnirehtet" FontWeight="SemiBold" />
          <TextBlock Text="{Binding GnirehtetStatus}" Margin="0,8,0,0" />
        </StackPanel>
      </Border>
    </Grid>

    <GroupBox Header="Connected ADB devices" Grid.Row="2">
      <DataGrid ItemsSource="{Binding Devices}" AutoGenerateColumns="False" CanUserAddRows="False" IsReadOnly="True">
        <DataGrid.Columns>
          <DataGridTextColumn Header="Serial" Binding="{Binding Serial}" Width="2*" />
          <DataGridTextColumn Header="State" Binding="{Binding State}" Width="*" />
          <DataGridTextColumn Header="Manufacturer" Binding="{Binding Manufacturer}" Width="*" />
          <DataGridTextColumn Header="Model" Binding="{Binding Model}" Width="*" />
          <DataGridTextColumn Header="Product" Binding="{Binding Product}" Width="*" />
        </DataGrid.Columns>
      </DataGrid>
    </GroupBox>

    <Grid Grid.Row="3" Margin="0,16,0,0">
      <Grid.ColumnDefinitions>
        <ColumnDefinition Width="240" />
        <ColumnDefinition Width="*" />
      </Grid.ColumnDefinitions>

      <StackPanel Grid.Column="0" Margin="0,0,16,0">
        <TextBlock Text="Manual controls" FontWeight="SemiBold" />
        <Button Content="Start" Command="{Binding StartCommand}" Margin="0,8,0,0" Height="36" />
        <Button Content="Stop" Command="{Binding StopCommand}" Margin="0,8,0,0" Height="36" />
        <Button Content="Restart" Command="{Binding RestartCommand}" Margin="0,8,0,0" Height="36" />
        <CheckBox Content="Stop gnirehtet on app exit"
                  IsChecked="{Binding StopOnExit}"
                  Margin="0,16,0,0" />
      </StackPanel>

      <GroupBox Header="Event log" Grid.Column="1">
        <ListBox ItemsSource="{Binding LogEntries}">
          <ListBox.ItemTemplate>
            <DataTemplate>
              <TextBlock Text="{Binding Display}" TextWrapping="Wrap" />
            </DataTemplate>
          </ListBox.ItemTemplate>
        </ListBox>
      </GroupBox>
    </Grid>
  </Grid>
</Window>
